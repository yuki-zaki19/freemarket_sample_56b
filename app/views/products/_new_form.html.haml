.product-contents

  %header.product-header
    %h1
      = link_to(root_path, {}) do
        = image_tag "mercari_logo_horizontal.png", :class => "header-image"

  %main.product-main
    %section.center-box
      .exhibition-content
        .exhibition-content__header
          å•†å“ã®æƒ…å ±ã‚’å…¥åŠ›
        = form_with model:@product, class: "exhibition-content__form", local: true do |f|
          .exhibition-content__form__upload-box
            %h3.upload-box-header
              å‡ºå“ç”»åƒ
              %span.header_required
                å¿…é ˆ
            %p
              æœ€å¤§10æšã¾ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™
            
            - if @images
              .prev-image-content#insert-image-box1{"data-product-id": "#{@product.id}"}
                .prev-image-content__image-box
                  - @images.each.with_index(1) do |image,i|
                    .prev-image-content__image-box__prev.upload-product{"data-image-id": "#{i}"}
                      .prev-image-content__image-box__prev__image
                        = image_tag(image.variant(resize: "110x110"),class: "real_image")
                      .prev-image-content__image-box__prev__update
                        .prev-image-content__image-box__prev__update--edit{"data-image-edit-id": "#{image.id}"}
                          ç·¨é›†
                        -# ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«
                        .edit_modal
                          .edit_modal__inner
                            .edit_modal__inner__header.clearfix
                              .edit_modal__inner__header--left
                                å†™çœŸã‚’åˆ‡ã‚Šå–ã‚‹
                              .edit_modal__inner__header--right
                                = f.file_field :images, type: "file", style: "display:none", id: "image-#{image.id}"
                                %label{for: "image-#{image.id}",class: "edit-image"}å†™çœŸã‚’å¤‰æ›´ã™ã‚‹
                            .edit_modal__inner__content
                              .edit_modal__inner__content--image
                                = image_tag(image.variant(resize: "380x380"),id: "editedit-image-#{image.id}", class: "editedit")
                              .edit_modal__inner__content__range
                                .edit_modal__inner__content__range__left
                                  ğŸ“·
                                .edit_modal__inner__content__range__center
                                .edit_modal__inner__content__range__right
                                  ğŸ“·
                            .edit_modal__inner__btn
                              .edit_modal__inner__btn--cancel
                                ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                              .edit_modal__inner__btn--done
                                = f.check_box :image_ids, {class:"done_check", id: "done_check-#{image.id}", multiple: true}, image.id, false
                                %label{for: "done_check-#{image.id}",}å®Œäº†

                        .prev-image-content__image-box__prev__update--delete
                          = f.check_box :image_ids, {class: "delete_check", id: "delete_check-#{image.id}", multiple: true}, image.id, false
                          %label.delete-btn{for: "delete_check-#{image.id}"}å‰Šé™¤
                          
                .prev-image-content__upload-box.clearfix
                  %label
                    = f.file_field :images, type: 'file', id: "display-none1",name: "product[images][]", multiple: true 
                    .prev-image-content__upload-box__image_preview
                      ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—
                      %br
                        ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

                -# è¿½åŠ å•†å“ã®ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«
                .edit_modal--add
                  .edit_modal--add__inner
                    .edit_modal__inner__header.clearfix
                      .edit_modal--add__inner__header--left
                        å†™çœŸã‚’åˆ‡ã‚Šå–ã‚‹
                      .edit_modal--add__inner__header--right
                        = f.file_field :images, type: "file", style: "display:none", id: "image-id"
                        %label{for: "image-id",class: "edit-image--add"}å†™çœŸã‚’å¤‰æ›´ã™ã‚‹
                    .edit_modal--add__inner__content
                      .edit_modal--add__inner__content--image--add
                      .edit_modal--add__inner__content__range
                        .edit_modal--add__inner__content__range__left
                          ğŸ“·
                        .edit_modal--add__inner__content__range__center
                        .edit_modal--add__inner__content__range__right
                          ğŸ“·
                    .edit_modal--add__inner__btn
                      .edit_modal--add__inner__btn--cancel
                        ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                      .edit_modal--add__inner__btn--done
                        å®Œäº†

            - else            
              %div
                #insert-image-box
                  .upload-dropbox#upload-dropbox
                    %label
                      = f.file_field :images, type: 'file', id: "display-none", multiple: true 
                      .image_preview
                        ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—
                        %br
                          ã¾ãŸã¯ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
                -# newãƒšãƒ¼ã‚¸ãƒ¢ãƒ¼ãƒ€ãƒ«
                .edit_modal
                  .edit_modal__inner
                    .edit_modal__inner__header.clearfix
                      .edit_modal__inner__header--left
                        å†™çœŸã‚’åˆ‡ã‚Šå–ã‚‹
                      .edit_modal__inner__header--right
                        = f.file_field :images, type: "file", style: "display:none", id:"edit-new-image", name: "product[images][]"
                        %label{for: "edit-new-image", class: "edit-new-image"}å†™çœŸã‚’å¤‰æ›´ã™ã‚‹
                    .edit_modal__inner__content
                      #edit_modal__inner__content--image--new
                        -# = image_tag(class: "editedit")
                      .edit_modal__inner__content__range
                        .edit_modal__inner__content__range__left
                          ğŸ“·
                        .edit_modal__inner__content__range__center
                        .edit_modal__inner__content__range__right
                          ğŸ“·
                    .edit_modal__inner__btn
                      .edit_modal__inner__btn--cancel
                        ã‚­ãƒ£ãƒ³ã‚»ãƒ«
                      .edit_modal__inner__btn--done
                        å®Œäº†


          .exhibition-content__form__explain
            .product-name-form
              %label
                å•†å“å
                %span.form_required
                  å¿…é ˆ
                  = f.text_field :name, class: 'input-name', placeholder: 'å•†å“åï¼ˆå¿…é ˆ40æ–‡å­—ã¾ã§ï¼‰'
            .product-explain-form
              %label
                å•†å“ã®èª¬æ˜
                %span.form_required
                  å¿…é ˆ
                = f.text_area :explain, class: 'input-explain', placeholder: "å•†å“ã®èª¬æ˜ï¼ˆå¿…é ˆ 1,000æ–‡å­—ä»¥å†…ï¼‰ï¼ˆè‰²ã€ç´ æã€é‡ã•ã€å®šä¾¡ã€æ³¨æ„ç‚¹ãªã©ï¼‰ä¾‹ï¼‰2010å¹´é ƒã«1ä¸‡å††ã§è³¼å…¥ã—ãŸã‚¸ãƒ£ã‚±ãƒƒãƒˆã§ã™ã€‚ãƒ©ã‚¤ãƒˆã‚°ãƒ¬ãƒ¼ã§å‚·ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚ã‚ã›ã‚„ã™ã„ã®ã§ãŠã™ã™ã‚ã§ã™ã€‚"
          .deal-product
            .deal-sub-head
              .deal-sub-head__name
                å•†å“ã®è©³ç´°
            .deal-form-box
              .form-category
                %label
                  ã‚«ãƒ†ã‚´ãƒªãƒ¼
                  %span.form_required
                    å¿…é ˆ
              .select-form
                = fa_icon 'angle-down'
                = f.select :category_id, @parent_category_array,{},class: 'select-list',id: 'parent-list' ,"data-product-id": "#{@product.id}"

              -# å­ã‚«ãƒ†ã‚´ãƒª
              #select-form-children
                - if @product.child_category_id
                  .select-form#children-category
                    = fa_icon 'angle-down'
                    = f.select :child_category_id, @child_category_array,{},class: 'select-list',id: 'child-list',"data-product-id": "#{@product.id}"  
              -# å­«ã‚«ãƒ†ã‚´ãƒª
              #select-form-grandchild
                - if @product.grandchild_category_id
                  .select-form#grandchildren-category
                    = fa_icon 'angle-down'
                    = f.select :grandchild_category_id, @grandchild_category_array,{},class: 'select-list',id: 'grandchild-list',"data-product-id": "#{@product.id}" 

              -# ã‚µã‚¤ã‚º
              #form-size
                - if @product.size_id
                  %label#size-label
                    ã‚µã‚¤ã‚º
                    %span#form_required-size
                      å¿…é ˆ
              
              #select-form-size
                - if @product.size_id
                  .select-form-size-box#product_size_id
                    = fa_icon 'angle-down'
                    = f.collection_select :size_id,Size.all, :id, :name,{},class: 'select-list'

              -# ãƒ–ãƒ©ãƒ³ãƒ‰
              #form-brand
                - if @product.size_id
                  %label#brand-label
                    ã‚µã‚¤ã‚º
                    %span#form_required-brand
                      ä»»æ„

              #select-form-brand
                - if @product.size_id
                  .select-form-brand-box
                    = f.text_field :brand, class: 'input-brand', placeholder: "ä¾‹)NIKE", name: 'product[brand]'

              .form-state 
                %label
                  å•†å“ã®çŠ¶æ…‹
                  %span.form_required
                    å¿…é ˆ
              .select-form
                = fa_icon "angle-down"
                = f.collection_select :state_id,State.all, :id, :name,{},class: 'select-list'

          .deal-delivery.clearfix
            .deal-sub-head
              .deal-sub-head__name 
                é…é€ã«ã¤ã„ã¦
            = link_to('#', class:'form-question') do
              ?

            .deal-form-box
              .form-price
                %label
                  é…é€æ–™ã®è² æ‹…
                  %span.form_required
                    å¿…é ˆ
              .select-form
                = fa_icon "angle-down"
                = f.collection_select :burden_id,Burden.all, :id, :name,{},class: 'select-list',id: 'select-list-burden'

              - if @product.shipping_id
                .form-shipping#form-shipping
                  %label
                    é…é€ã®æ–¹æ³•
                    %span.form_required
                      å¿…é ˆ
                  .select-form
                    = fa_icon "angle-down"
                    = f.collection_select :shipping_id,Shipping.all, :id, :name,{},class: 'select-list'
                    
              #form-shipping
              #select-form-shipping

              .form-region
                %label
                  ç™ºé€å…ƒã®åœ°åŸŸ
                  %span.form_required
                    å¿…é ˆ
              .select-form
                = fa_icon "angle-down"
                = f.collection_select :region_id, Region.all, :id, :name,{}, class: 'select-list'
              .form-date
                %label
                  ç™ºé€ã¾ã§ã®æ—¥æ•°
                  %span.form_required
                    å¿…é ˆ
              .select-form
                = fa_icon "angle-down"
                = f.collection_select :leadtime_id,Leadtime.all, :id, :name,{},class: 'select-list'
          .deal-price
            .deal-sub-head
              .deal-sub-head__name 
                è²©å£²ä¾¡æ ¼(300~9,999,999)
            = link_to('#', class:'form-question') do
              ?
            .deal-form-box
              .price-box
                .input-price
                  .clearfix
                    %label
                      ä¾¡æ ¼
                      %span.form_required å¿…é ˆ
                    .right-sell-box
                      Â¥
                      .price-box
                        = f.text_field :price, class: "input-sell-box", id: "input-price",placeholder: "ä¾‹) 300"
                .fee 
                  .clearfix
                    .fee-name è²©å£²æ‰‹æ•°æ–™ (10%)
                    #fee-num -
                .profit
                  .clearfix
                    .profit-name è²©å£²åˆ©ç›Š
                    #profit-num -

          - if @product.id
            .deal-btn-box
              .deal-btn-explain
                = f.submit "ç·¨é›†ã™ã‚‹",class: "btn-exhibition" 
                = link_to('#', class:'back-exhibition') do
                  ã‚‚ã©ã‚‹
          - else       
            .deal-btn-box
              .deal-btn-explain
                %p
                  = link_to('#') do
                    ç¦æ­¢ã•ã‚Œã¦ã‚‹å‡ºå“
                  ã€
                  = link_to('#') do
                    è¡Œç‚º
                  ã‚’å¿…ãšã”ç¢ºèªãã ã•ã„ã€‚
                %p
                  ã¾ãŸãƒ–ãƒ©ãƒ³ãƒ‰å“ã§ã‚·ãƒªã‚¢ãƒ«ãƒŠãƒ³ãƒãƒ¼ç­‰ãŒã‚ã‚‹å ´åˆã¯ã”è¨˜è¼‰ãã ã•ã„ã€‚
                  = link_to('#') do
                    å½ãƒ–ãƒ©ãƒ³ãƒ‰ã®è²©å£²
                  ã¯çŠ¯ç½ªã§ã‚ã‚Šå‡¦ç½°ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
                %p
                  ã¾ãŸã€å‡ºå“ã‚’ã‚‚ã¡ã¾ã—ã¦
                  = link_to('#') do
                    åŠ ç›Ÿåº—è¦ç´„
                  ã«åŒæ„ã—ãŸã“ã¨ã«ãªã‚Šã¾ã™ã€‚
              = f.submit "å‡ºå“ã™ã‚‹",class: "btn-exhibition" 
              = link_to('#', class:'back-exhibition') do
                ã‚‚ã©ã‚‹

  %footer.product-footer
    %nav
      %ul.clearfix
        %li
          = link_to('#', {}) do
            ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼
        %li
          = link_to('#', {}) do
            ãƒ¡ãƒ«ã‚«ãƒªåˆ©ç”¨è¦ç´„
        %li
          = link_to('#', {}) do
            ç‰¹å®šå•†å–å¼•ã«é–¢ã™ã‚‹è¡¨è¨˜
    = link_to('#', class:'bottom-image') do
      = image_tag(src= "logo-gray.svg")
    %p
      %smallÂ© 2019 Mercari

